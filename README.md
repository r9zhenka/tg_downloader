# Telegram Video Downloader

Скачивание видео из Telegram-чатов и каналов, включая чаты с запретом на пересылку.

## Требования

- Python 3.8+
- Аккаунт Telegram
- API-ключи от [my.telegram.org](https://my.telegram.org)

## Установка

```bash
git clone https://github.com/r9zhenka/tg_downloader.git
cd tg_downloader
pip install -r requirements.txt
```

## Настройка

### 1. Получение API-ключей

1. Перейдите на [my.telegram.org](https://my.telegram.org)
2. Войдите по номеру телефона (с кодом страны, например `+79001234567`)
3. Нажмите **API development tools**
4. Создайте приложение (название и описание -- любые)
5. Скопируйте `api_id` (число) и `api_hash` (строка)

### 2. Заполнение config.py

Откройте `config.py` и впишите свои данные:

```python
API_ID = 12345678          # ваш api_id
API_HASH = "abcdef123456"  # ваш api_hash
CHAT_ID = -1001234567890   # ID чата (см. ниже как узнать)
```

### 3. Узнать ID чата

Запустите скрипт с флагом `--list-chats`:

```bash
python downloader.py --list-chats
```

При первом запуске скрипт попросит номер телефона и код подтверждения -- это стандартная авторизация Telegram. Сессия сохранится в файл, повторно вводить не придётся.

Скрипт выведет таблицу всех ваших чатов с ID -- скопируйте нужный в `config.py`.

## Использование

```bash
python downloader.py
```

Видео сохраняются в папку `downloads/` (можно изменить в `config.py`).

### Имена файлов

Файлы именуются по шаблону: `ГГГГ-ММ-ДД_НОМЕР_название.mp4`

Например: `2025-12-01_0001_Лекция_1.mp4`

### Повторный запуск

Уже скачанные файлы пропускаются -- можно безопасно перезапускать скрипт, если скачивание прервалось.

## Ограничения

- **Только видео.** Скрипт скачивает только видеофайлы. Фото, документы, аудио и прочие типы медиа игнорируются.
- **Нет фильтрации.** Скачиваются все видео из чата без возможности фильтрации по дате, автору или ключевым словам.
- **Один чат за раз.** Для скачивания из нескольких чатов нужно менять `CHAT_ID` в `config.py` и запускать заново.
- **Нет параллельного скачивания.** Видео скачиваются последовательно, по одному.
- **Лимиты Telegram API.** При скачивании большого количества видео Telegram может временно ограничить скорость (FloodWait). Скрипт не обрабатывает это автоматически.
- **Без GUI.** Только командная строка.
